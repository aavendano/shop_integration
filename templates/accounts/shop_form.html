{% extends 'core/base.html' %}

{% block content %}
<s-page heading="{% if object %}Edit Shop: {{ object.name }}{% else %}Add New Shop{% endif %}">
    <s-link slot="breadcrumb-actions" href="{% url 'accounts:shop_list' %}">Shops</s-link>

    <s-section>
        <form method="post">
            {% csrf_token %}
            {% if form.non_field_errors %}
                <s-banner tone="critical">{{ form.non_field_errors }}</s-banner>
            {% endif %}

            <s-form>
                <s-stack gap="base">
                    <s-text-field
                        label="Name"
                        name="name"
                        value="{{ form.name.value|default:'' }}"
                        error="{{ form.name.errors|striptags }}"
                        placeholder="Shop Name"
                    ></s-text-field>

                    <s-text-field
                        label="Domain"
                        name="domain"
                        value="{{ form.domain.value|default:'' }}"
                        error="{{ form.domain.errors|striptags }}"
                        placeholder="example.com"
                    ></s-text-field>

                    <s-text-field
                        label="MyShopify Domain"
                        name="myshopify_domain"
                        value="{{ form.myshopify_domain.value|default:'' }}"
                        error="{{ form.myshopify_domain.errors|striptags }}"
                        placeholder="example.myshopify.com"
                    ></s-text-field>

                    <s-text-field
                        label="Currency"
                        name="currency"
                        value="{{ form.currency.value|default:'' }}"
                        error="{{ form.currency.errors|striptags }}"
                        placeholder="USD"
                    ></s-text-field>

                    <s-text-field
                        label="Client ID"
                        name="client_id"
                        value="{{ form.client_id.value|default:'' }}"
                        error="{{ form.client_id.errors|striptags }}"
                    ></s-text-field>

                    <s-password-field
                        label="Client Secret"
                        name="client_secret"
                        value="{{ form.client_secret.value|default:'' }}"
                        error="{{ form.client_secret.errors|striptags }}"
                    ></s-password-field>

                    <s-stack gap="base" direction="inline" style="margin-top: 1rem;">
                        <s-button type="submit" variant="primary">Save Shop</s-button>
                        <s-button href="{% url 'accounts:shop_list' %}">Cancel</s-button>
                    </s-stack>
                </s-stack>
            </s-form>
        </form>
    </s-section>
</s-page>
{% endblock %}
