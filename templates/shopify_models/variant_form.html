{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<s-page heading="{{ action }} Variant for {{ product.title }}">
    <s-link slot="breadcrumb-actions" href="{% url 'shopify_models:product_detail' product.id %}">{{ product.title }}</s-link>

    <s-section>
        <form method="post">
            {% csrf_token %}
            {% if form.non_field_errors %}
                <s-banner tone="critical">{{ form.non_field_errors }}</s-banner>
            {% endif %}

            <s-form>
                <s-grid gridTemplateColumns="repeat(auto-fill, minmax(300px, 1fr))" gap="base">
                    <s-grid-item>
                        <s-text-field
                            label="Title"
                            name="title"
                            value="{{ form.title.value|default:'' }}"
                            error="{{ form.title.errors|striptags }}"
                        ></s-text-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-text-field
                            label="Supplier SKU"
                            name="supplier_sku"
                            value="{{ form.supplier_sku.value|default:'' }}"
                            error="{{ form.supplier_sku.errors|striptags }}"
                        ></s-text-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-text-field
                            label="Barcode"
                            name="barcode"
                            value="{{ form.barcode.value|default:'' }}"
                            error="{{ form.barcode.errors|striptags }}"
                        ></s-text-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-money-field
                            label="Price"
                            name="price"
                            value="{{ form.price.value|default:'' }}"
                            error="{{ form.price.errors|striptags }}"
                        ></s-money-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-money-field
                            label="Compare at Price"
                            name="compare_at_price"
                            value="{{ form.compare_at_price.value|default:'' }}"
                            error="{{ form.compare_at_price.errors|striptags }}"
                        ></s-money-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-number-field
                            label="Weight (g)"
                            name="grams"
                            value="{{ form.grams.value|default:'' }}"
                            error="{{ form.grams.errors|striptags }}"
                        ></s-number-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-text-field
                            label="Option 1"
                            name="option1"
                            value="{{ form.option1.value|default:'' }}"
                            error="{{ form.option1.errors|striptags }}"
                        ></s-text-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-text-field
                            label="Option 2"
                            name="option2"
                            value="{{ form.option2.value|default:'' }}"
                            error="{{ form.option2.errors|striptags }}"
                        ></s-text-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-text-field
                            label="Option 3"
                            name="option3"
                            value="{{ form.option3.value|default:'' }}"
                            error="{{ form.option3.errors|striptags }}"
                        ></s-text-field>
                    </s-grid-item>
                    <s-grid-item>
                        <s-checkbox
                            label="Requires Shipping"
                            name="requires_shipping"
                            {% if form.requires_shipping.value %}checked{% endif %}
                        ></s-checkbox>
                        {{ form.requires_shipping.errors }}
                    </s-grid-item>
                    <s-grid-item>
                        <s-checkbox
                            label="Taxable"
                            name="taxable"
                            {% if form.taxable.value %}checked{% endif %}
                        ></s-checkbox>
                        {{ form.taxable.errors }}
                    </s-grid-item>
                </s-grid>

                <s-stack gap="base" direction="inline" style="margin-top: 1rem;">
                    <s-button type="submit" variant="primary">{{ action }} Variant</s-button>
                    <s-button href="{% url 'shopify_models:product_detail' product.id %}">Cancel</s-button>
                </s-stack>
            </s-form>
        </form>
    </s-section>
</s-page>
{% endblock %}
