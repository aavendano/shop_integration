{% extends 'core/base.html' %}

{% block content %}
<s-page heading="Session Management">
    <div slot="primary-action">
        <s-button href="{% url 'core:session_add' %}" variant="primary" icon="plus">Add Session</s-button>
    </div>

    <s-section padding="none">
        <s-table>
            <s-table-header-row>
                <s-table-header>ID</s-table-header>
                <s-table-header>Site</s-table-header>
                <s-table-header>Token</s-table-header>
                <s-table-header>Actions</s-table-header>
            </s-table-header-row>
            <s-table-body>
                {% for session in sessions %}
                <s-table-row>
                    <s-table-cell>{{ session.id }}</s-table-cell>
                    <s-table-cell>{{ session.site }}</s-table-cell>
                    <s-table-cell>{{ session.token|truncatechars:30 }}</s-table-cell>
                    <s-table-cell>
                        <s-button-group>
                            <s-button href="{% url 'core:session_edit' session.id %}" icon="edit" size="small" accessibilityLabel="Edit"></s-button>
                            <s-button href="{% url 'core:session_delete' session.id %}" icon="delete" tone="critical" size="small" accessibilityLabel="Delete"></s-button>
                        </s-button-group>
                    </s-table-cell>
                </s-table-row>
                {% empty %}
                <s-table-row>
                    <s-table-cell colspan="4">No sessions found.</s-table-cell>
                </s-table-row>
                {% endfor %}
            </s-table-body>
        </s-table>
    </s-section>
</s-page>
{% endblock %}
